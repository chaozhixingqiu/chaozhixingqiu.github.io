# 转换向量类型——数值向量，字符串向量和因子向量

## 问题

你想在数值向量、字符串向量和因子向量间做转换。

## 方案

假设你刚开始有一个数值型向量`n`:

```R
n <- 10:14
n
#> [1] 10 11 12 13 14
```

将这个数值型向量转换为其他两种类型（将结果保存在`c`和`f`）：

```R
# 数值型→字符串型
c <- as.character(n)

# 数值型→因子型
f <- factor(n)
# 10 11 12 13 14
```

将字符串型向量转化为另外两种：

```R
# 数值型
as.numeric(c)
#> [1] 10 11 12 13 14

# 字符串型→因子型
factor(c)
#> [1] 10 11 12 13 14
#> Levels: 10 11 12 13 14
```

把一个因子转变为一个字符串型向量很简单：

```R
# 因子型→数值型
as.character(f)
#> [1] "10" "11" "12" "13" "14"
```

然而，将因子转化为数值型向量，有点棘手。如果你使用`as.numberic`，它将会给你因子编码的数值，恐怕不是你想要的。

```R
as.numeric(f)
#> [1] 1 2 3 4 5

# 另一种方式得到数字的编码，如果这是你想要的:
unclass(f)
#> [1] 1 2 3 4 5
#> attr(,"levels")
#> [1] "10" "11" "12" "13" "14"
```

方法是，先转化为字符串型，再转化为数值型。

```R
# 因子型→数值型
as.numeric(as.character(f))
#> [1] 10 11 12 13 14
```

---

原文链接：http://www.cookbook-r.com/Manipulating_data/Converting_between_vector_types/
